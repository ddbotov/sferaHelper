package com.botov.sferaHelper;

import okhttp3.Interceptor;
import okhttp3.Request;
import okhttp3.Response;

import java.io.IOException;

class AuthInterceptor implements Interceptor {

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request  = chain.request();
        Request authenticatedRequest = request.newBuilder().addHeader(
                "Cookie",
                "rxVisitor=1719500350527O18SP1F3A54M4EG2CG6T75I20PMD0OIC; dtSa=-; ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJtUUNteHVDTzltT3lQNU56OTJXcHZrcUNWcjJDVlU5MHdKMi1veTYzcF9rIn0.eyJleHAiOjE3MTk1MDEyNjYsImlhdCI6MTcxOTUwMDM2NiwianRpIjoiMzAzY2U4ZDMtZjE0Zi00NzZlLWE2MzgtZjk1MjI1NjRiODFlIiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJzdWIiOiJWVEI3MDE2NjA1MkBjb3JwLmRldi52dGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImZjMzJlNDIyLTE1NDAtNGI5ZS05MGJhLTNmY2U2YThjYjQ1NyIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImZjMzJlNDIyLTE1NDAtNGI5ZS05MGJhLTNmY2U2YThjYjQ1NyIsImNoYW5uZWwiOiJzZmVyYSIsIm5hbWUiOiLQlNC80LjRgtGA0LjQuSDQkdC-0YLQvtCyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidnRiNzAxNjYwNTIiLCJtaWRkbGVfbmFtZSI6ItCc0LjRhdCw0LnQu9C-0LLQuNGHIiwiZ2l2ZW5fbmFtZSI6ItCU0LzQuNGC0YDQuNC5IiwiZmFtaWx5X25hbWUiOiLQkdC-0YLQvtCyIiwiZW1haWwiOiJkbWJvdG92QGRldi52dGIucnUiLCJ1c2VyUHJpbmNpcGFsTmFtZSI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiJ9.PV9X53xcLFu3G45emVwjFfUbGQuV1jd137Og6wtECRe0HvgGvk4FQWysNSZ7uRPC6InVbV2rtdGc7FFzXHHW2m-O7XVkVtjSolsnBno2Q-R5PnKolK6i6sNPnYS3Tc4eRB5VUeCrqJDGYdfoge5dg2cG2qB5OtgLtCi1bRtHR-vulvyyGWpB1HO5hzQJhLSHLBvZqfG2XGcWTNsw6P_LRJTpfbswJncIp3klJ9R6GM9iF4E_UCR3r9ZMhQDtB5uVNCPD_AsMHAHVJ-eIdD2DeJZI__LOvc8vBvQHFcbshrFuTuaYm6pbAyt5kgRYq9Ej65buD82vs7-uttMncLh7IA; REFRESH_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzOTExODhmYi05ODBmLTQwYmQtYTE0ZS1hYjg4ODM3YWQzNWQifQ.eyJleHAiOjE3MTk1MDc1NjYsImlhdCI6MTcxOTUwMDM2NiwianRpIjoiNjM1ZTg4MTUtMTcxNS00MGIyLWJkMmMtOWM3ZWI4NDVmNTM2IiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJhdWQiOiJodHRwczovL3NmZXJhLWtleWNsb2FrLW5ldy5pbm5vLmxvY2FsL3JlYWxtcy9zZmVyYS1zZXJ2aWNlcyIsInN1YiI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImZjMzJlNDIyLTE1NDAtNGI5ZS05MGJhLTNmY2U2YThjYjQ1NyIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImZjMzJlNDIyLTE1NDAtNGI5ZS05MGJhLTNmY2U2YThjYjQ1NyJ9.GXgnW5XhhK9DHkvsvg8qbb79cEZbStIMYugI9oskeYU; ID_TOKEN=empty; CHECK_AUTH=true; rxvt=1719502166388|1719500350529; LANGUAGE=ru; dtPC=8$500350526_497h-vEUWIIPJWNHPFHGSHPWPTRMCEQUCCUFDP-0e0; dtLatC=61; dtCookie=v_4_srv_8_sn_FECD75BFA433603BD133184EBA5AC4C5_perc_100000_ol_0_mul_1_app-3Aba15fcbff5d99f0e_1; JSESSIONID=A5BC057CF31DE5CDD60FDF52F12513E8")
                .build();
        return chain.proceed(authenticatedRequest);
    }
}
