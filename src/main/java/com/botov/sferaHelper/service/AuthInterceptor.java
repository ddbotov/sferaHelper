package com.botov.sferaHelper.service;

import okhttp3.Interceptor;
import okhttp3.Request;
import okhttp3.Response;

import java.io.IOException;

class AuthInterceptor implements Interceptor {

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request  = chain.request();
        Request authenticatedRequest = request.newBuilder().addHeader(
                "Cookie",
                "rxVisitor=1724653208039VESOENF173Q28AJKLDUUSBE7E4V1V0PF; NX-ANTI-CSRF-TOKEN=0.3529637470269442; CHECK_AUTH=true; LANGUAGE=ru; dtCookie=v_4_srv_33_sn_22A5E6D955B630BC0D2A0FAEAC74DC92_perc_100000_ol_0_mul_1_app-3Aba15fcbff5d99f0e_1_app-3Af5beb900f30c572b_1; JSESSIONID=D66688AD00B3182DA1FCAF7568BBAD43; ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJtUUNteHVDTzltT3lQNU56OTJXcHZrcUNWcjJDVlU5MHdKMi1veTYzcF9rIn0.eyJleHAiOjE3MjY2NTY2MTYsImlhdCI6MTcyNjY1NTcxNiwianRpIjoiYTIwZjllMTItMjY0Ny00OTA0LWJiZDktODQzNmEzZmE5ZTg5IiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJzdWIiOiJWVEI3MDE2NjA1MkBjb3JwLmRldi52dGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImVhMThmYjU1LWNkODEtNGY2NC1hN2E2LTQyNDU2NjEyZGE5MyIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImVhMThmYjU1LWNkODEtNGY2NC1hN2E2LTQyNDU2NjEyZGE5MyIsImNoYW5uZWwiOiJzZmVyYSIsIm5hbWUiOiLQlNC80LjRgtGA0LjQuSDQkdC-0YLQvtCyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidnRiNzAxNjYwNTIiLCJtaWRkbGVfbmFtZSI6ItCc0LjRhdCw0LnQu9C-0LLQuNGHIiwiZ2l2ZW5fbmFtZSI6ItCU0LzQuNGC0YDQuNC5IiwiZmFtaWx5X25hbWUiOiLQkdC-0YLQvtCyIiwiZW1haWwiOiJkbWJvdG92QGRldi52dGIucnUiLCJ1c2VyUHJpbmNpcGFsTmFtZSI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiJ9.FZ-SH_aALJXux5hTx1KYIHGi3Rpb1Yge5nioJUBuFAupPeyhljWIvmlRNCn_szC5MrGDEQI6z_MlvmycT1Q8rmaJXgwsQURFS4VS4god-fjikIvuvT3sglZxTCGkOMFnJ51KC8Wveyy27QAt7rSeLzIpl2gfUww6CmvvS3_2-qw-V4mToZwRSvEbYUiDXsDN2qH9LZax8rG6wh_vC6zmtAlrCVRWOgev7wz2uMT3vptuLrF0l2ABzCcdtfuCMqHkh7PBfiTtQO8-aY-DGWDN7RcTT6AT1bq5hHKKGamAw_UB-tBBs_SR3Wo--Ck4I6SA8lOx5buohJaqlDSrBXvZMQ; REFRESH_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzOTExODhmYi05ODBmLTQwYmQtYTE0ZS1hYjg4ODM3YWQzNWQifQ.eyJleHAiOjE3MjY2NjI5MTYsImlhdCI6MTcyNjY1NTcxNiwianRpIjoiYWJiYmIxNTEtMWI1NS00MzBmLWFmZGItZDVkNDQxMWM5ZTRkIiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJhdWQiOiJodHRwczovL3NmZXJhLWtleWNsb2FrLW5ldy5pbm5vLmxvY2FsL3JlYWxtcy9zZmVyYS1zZXJ2aWNlcyIsInN1YiI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImVhMThmYjU1LWNkODEtNGY2NC1hN2E2LTQyNDU2NjEyZGE5MyIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImVhMThmYjU1LWNkODEtNGY2NC1hN2E2LTQyNDU2NjEyZGE5MyJ9.wqKYG20jUy_40c8azJmJSM6ZterWFHtOBCq51Q2IV-M; dtSa=-; dtLatC=2; rxvt=1726657964354|1726654274723; dtPC=33$456163978_345h-vFMOPAPHGETKUMOKCFBSLSCPPLFATFEEA-0e0")
                .build();
        return chain.proceed(authenticatedRequest);
    }
}
