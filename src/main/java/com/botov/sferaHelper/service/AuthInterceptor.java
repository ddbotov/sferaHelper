package com.botov.sferaHelper.service;

import okhttp3.Interceptor;
import okhttp3.Request;
import okhttp3.Response;

import java.io.IOException;

class AuthInterceptor implements Interceptor {

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request  = chain.request();
        Request authenticatedRequest = request.newBuilder().addHeader(
                "Cookie",
                "" +
                        "rxVisitor=1742803579556060LAE13J1S33F30QTE20LEQKDP2V724; LANGUAGE=ru; SFERACODEID=s2; REFRESH_TOKEN=eyJhbGciOiJIUzUxMiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4Y2U5YzAyMS1hNjk4LTQxYmQtODlmZi0xMGY4YjM0OTgzYjcifQ.eyJleHAiOjE3NDM2NzI3NDYsImlhdCI6MTc0MzY2NTU0NiwianRpIjoiOGJjMjQ0OTUtYzQ1My00MDhhLWE3ZjktOTc1MGEyMTJjMTJhIiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9hdXRoL3JlYWxtcy9zZmVyYS1zZXJ2aWNlcyIsImF1ZCI6Imh0dHBzOi8vc2ZlcmEta2V5Y2xvYWstbmV3Lmlubm8ubG9jYWwvYXV0aC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJzdWIiOiJWVEI3MDE2NjA1MkBjb3JwLmRldi52dGIiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoiY2hhbm5lbCIsInNpZCI6IjdlNThmN2RjLTY1MDItNDRlMS1iOGI4LWM3NzE5MGEzYzQwNiIsInNjb3BlIjoiYmFzaWMgcHJvZmlsZSJ9.vcMF8NDIwO4A5i9fJcQXuE9wFURPoxMOOTb9WJdk80Ty5BLOFXX8V7ysw9K8Td79hXijhPFHOj5XEvYaQiLAuA; ID_TOKEN=; CHECK_AUTH=true; ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJtUUNteHVDTzltT3lQNU56OTJXcHZrcUNWcjJDVlU5MHdKMi1veTYzcF9rIn0.eyJleHAiOjE3NDM2NjY0NDYsImlhdCI6MTc0MzY2NTU0NiwianRpIjoiNmI4NGQ2YzQtZDkyYS00OTIxLWE5NGQtYmFmOGMyMzY3MWU0IiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9hdXRoL3JlYWxtcy9zZmVyYS1zZXJ2aWNlcyIsInN1YiI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImNoYW5uZWwiLCJzaWQiOiI3ZTU4ZjdkYy02NTAyLTQ0ZTEtYjhiOC1jNzcxOTBhM2M0MDYiLCJzY29wZSI6InByb2ZpbGUiLCJjaGFubmVsIjoic2ZlcmEiLCJuYW1lIjoi0JTQvNC40YLRgNC40Lkg0JHQvtGC0L7QsiIsInByZWZlcnJlZF91c2VybmFtZSI6InZ0YjcwMTY2MDUyIiwibWlkZGxlX25hbWUiOiLQnNC40YXQsNC50LvQvtCy0LjRhyIsImdpdmVuX25hbWUiOiLQlNC80LjRgtGA0LjQuSIsImZhbWlseV9uYW1lIjoi0JHQvtGC0L7QsiIsImVtYWlsIjoiZG1ib3RvdkBkZXYudnRiLnJ1IiwidXNlclByaW5jaXBhbE5hbWUiOiJWVEI3MDE2NjA1MkBjb3JwLmRldi52dGIifQ.ljGA5ljWAFgVkODx2BqPMBcCGx18zvI2sHPGBtHW8PUh-5h9lTClqf-eDFr1A2f8zCcvrgweQPKzjKxOfDMG7pTdSfTLxX9T9L73nc9mLCXkkeAMD3oEeEDUqtN_tpsibLtm-c0rszJHMB_gNiEYgoq40WF37bYSjxurGg1SLlQHK_sLb7P-6gcw78r2YSbX4R_bu06CICGw4eCXAkTYidvDZ6s46dqQ_vDf2tocBKar3Q6RnBXwkhxa7VOAtHDFV18hDPMdoQOtLVAuabg6Ypk2orEdhFqf1YyoYsKLIuystMANPGMNC1myd0QganKDOIeNqj0sMP-nSRiiULuicA; dtSa=-; JSESSIONID=39C499B69BDAABD8FDDB6ABEC6556E0F; dtCookie=v_4_srv_12_sn_BD04C3BB7361E719363E012FED79E60D_perc_100000_ol_0_mul_1_app-3Aba15fcbff5d99f0e_1_app-3Af5beb900f30c572b_1; dtLatC=1; rxvt=1743667513154|1743665538404; dtPC=12$65548614_817h43vUJKIKCQKMHAMNBOOPOMKONCWICFKRHIE-0e0"
        ).build();
        return chain.proceed(authenticatedRequest);
    }
}
