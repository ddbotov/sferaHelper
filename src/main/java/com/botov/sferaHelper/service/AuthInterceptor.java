package com.botov.sferaHelper.service;

import okhttp3.Interceptor;
import okhttp3.Request;
import okhttp3.Response;

import java.io.IOException;

class AuthInterceptor implements Interceptor {

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request  = chain.request();
        Request authenticatedRequest = request.newBuilder().addHeader(
                "Cookie",
                "rxVisitor=1724653208039VESOENF173Q28AJKLDUUSBE7E4V1V0PF; NX-ANTI-CSRF-TOKEN=0.3529637470269442; dtSa=-; ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJtUUNteHVDTzltT3lQNU56OTJXcHZrcUNWcjJDVlU5MHdKMi1veTYzcF9rIn0.eyJleHAiOjE3Mjc0MzQ2MDksImlhdCI6MTcyNzQzMzcwOSwianRpIjoiNjYzNGI0MzMtNTg0Yi00NzBhLTljMWMtNTg3MDk3YjNhNTg1IiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJzdWIiOiJWVEI3MDE2NjA1MkBjb3JwLmRldi52dGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImU4ZTFiNWVmLTljMGEtNGRjMi04YWU0LWUwNzRiZTBmMTk3MiIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImU4ZTFiNWVmLTljMGEtNGRjMi04YWU0LWUwNzRiZTBmMTk3MiIsImNoYW5uZWwiOiJzZmVyYSIsIm5hbWUiOiLQlNC80LjRgtGA0LjQuSDQkdC-0YLQvtCyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidnRiNzAxNjYwNTIiLCJtaWRkbGVfbmFtZSI6ItCc0LjRhdCw0LnQu9C-0LLQuNGHIiwiZ2l2ZW5fbmFtZSI6ItCU0LzQuNGC0YDQuNC5IiwiZmFtaWx5X25hbWUiOiLQkdC-0YLQvtCyIiwiZW1haWwiOiJkbWJvdG92QGRldi52dGIucnUiLCJ1c2VyUHJpbmNpcGFsTmFtZSI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiJ9.UBOB4g6OLZKaTb7qiX7DA4idDAxOLZdmZjDc2y4KsNY5VmwURZPpdrCyliculHMnLWqMcu0OrKHDazIE4wtoJNjkTvo0RJRC8VURtDkCxKfADFRP5hoJwfBdH9e8L1LjMQpclgsDoqfGTwRM1JWetdbebLhIijG3cxvK-o14l3S1hJL1E-ISW6e6-ujvxwieMV3HnSKBotbGe9p94NZqAfSC3SoQiLBz7zFdM5tuVmQN6MO0uIuQqli0LxQoXF2T-hVHmC445X7SfCcBOu-bd6obvaIZgJ0QZ1wZX3zmakuBMauTWuCIRsWZylZbenJpspsVgOcyrzkdtR2GiiwhGw; REFRESH_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzOTExODhmYi05ODBmLTQwYmQtYTE0ZS1hYjg4ODM3YWQzNWQifQ.eyJleHAiOjE3Mjc0NDA5MDksImlhdCI6MTcyNzQzMzcwOSwianRpIjoiZTQ3MWMyZWUtNmMyNi00MGQzLTk1OTYtYTNmMzI5M2ZmYThkIiwiaXNzIjoiaHR0cHM6Ly9zZmVyYS1rZXljbG9hay1uZXcuaW5uby5sb2NhbC9yZWFsbXMvc2ZlcmEtc2VydmljZXMiLCJhdWQiOiJodHRwczovL3NmZXJhLWtleWNsb2FrLW5ldy5pbm5vLmxvY2FsL3JlYWxtcy9zZmVyYS1zZXJ2aWNlcyIsInN1YiI6IlZUQjcwMTY2MDUyQGNvcnAuZGV2LnZ0YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJjaGFubmVsIiwic2Vzc2lvbl9zdGF0ZSI6ImU4ZTFiNWVmLTljMGEtNGRjMi04YWU0LWUwNzRiZTBmMTk3MiIsInNjb3BlIjoicHJvZmlsZSIsInNpZCI6ImU4ZTFiNWVmLTljMGEtNGRjMi04YWU0LWUwNzRiZTBmMTk3MiJ9.S1KDO4xHEKziNMJmb6Nk5xHP06SIXJtfchVQaEdyvgI; CHECK_AUTH=true; LANGUAGE=ru; dtLatC=2; rxvt=1727435600148|1727433699862; dtPC=30$33772238_281h-vUKMCTOSRSRNFAMTOAKWCCWHPKHMSFTAI-0e0; dtCookie=v_4_srv_30_sn_F3234A4FC1D2270A7B592AB8B23CCC98_perc_100000_ol_0_mul_1_app-3Aba15fcbff5d99f0e_1; JSESSIONID=B7F51DBC3C3A83A11746F0004DACD474")
                .build();
        return chain.proceed(authenticatedRequest);
    }
}
